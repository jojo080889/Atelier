<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
  <h2>Sign up</h2>
  <% if devise_error_messages! != "" %>
    <div class="alert alert-danger">
      <%= devise_error_messages! %>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :username %>
    <%= f.text_field :username, :class => "form-control", :autofocus => true %>
  </div>

  <div class="form-group">
    <%= f.label :email %>
    <%= f.email_field :email, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :password %>
    <%= f.password_field :password, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation %>
    <%= f.password_field :password_confirmation, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :birthday %>
    <%= text_field_tag "vis_birthday", nil, :class => "form-control" %>
    <%= f.hidden_field :birthday %>
  </div>

  <div class="form-group">
    <%= f.hidden_field :skill_level_id, :value => SkillLevel.find_by_name_key(:beginner).id %>
  </div>

  <div class="form-group">
    <label>Consent Form</label>
    <iframe src="<%= consent_path %>"></iframe>
  </div>
  <div class="checkbox">
    <%= f.check_box :consented %>
    <%= f.label :consented, "I have read and agree to the consent form above and acknowledge my participation on Atelier will be studied for research purposes." %>
  </div>

  <div><%= f.submit "Sign up", class: "btn btn-default" %></div>
<% end %>

<%= render "devise/shared/links" %>

<!-- to control the skill level widget -->
<script>
  $(document).ready(function() {
    $(".skill-level-select").click(function(e) {
      $(".skill-level-select").removeClass("active");
      $(this).addClass("active");
      $("#user_skill_level").val($(this).data("tier"));
    });
  });
</script>
