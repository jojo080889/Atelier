<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
  <h2>Sign up</h2>
  <% if devise_error_messages! != "" %>
    <div class="alert alert-danger">
      <%= devise_error_messages! %>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :username %>
    <%= f.text_field :username, :class => "form-control", :autofocus => true %>
  </div>

  <div class="form-group">
    <%= f.label :email %>
    <%= f.email_field :email, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :password %>
    <%= f.password_field :password, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation %>
    <%= f.password_field :password_confirmation, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :birthday %>
    <%= text_field_tag "vis_birthday", nil, :class => "form-control" %>
    <%= f.hidden_field :birthday %>
  </div>

  <div class="form-group">
    <%= f.label :skill_level %>
    <p>
      You are joining an Atelier community centered around <strong>drawing/painting</strong>. To help you find mentors and mentees of the right skill level, pick the description that fits you best, but pick wisely -- you can move up and down in skill level based on community feedback.
    </p>
    <div class="row">
      <div data-tier="Beginner" class="skill-level-select beginner col-md-4 active">
        <div class="inner">
          <p class="stars">
            <%= fa_icon "star" %>
          </p>
          <h3>Beginner</h3>
          <p>
            You're just starting out on your art journey and developing your grasp of the basics. 
          </p>
        </div>
      </div>
      <div data-tier="Intermediate" class="skill-level-select intermediate col-md-4">
        <div class="inner">
          <p class="stars">
            <%= fa_icon "star" %>
            <%= fa_icon "star" %>
          </p>
          <h3>Intermediate</h3>
          <p>
            You see yourself as a hobbyist who is exploring different styles and techniques.
          </p>
        </div>
      </div>
      <div data-tier="Advanced" class="skill-level-select advanced col-md-4">
        <div class="inner">
          <p class="stars">
            <%= fa_icon "star" %>
            <%= fa_icon "star" %>
            <%= fa_icon "star" %>
          </p>
          <h3>Advanced</h3>
          <p>
            You have a strong and consistent style that stands out in your artwork.
          </p>
        </div>
      </div>
      <%= f.hidden_field :skill_level, :value => "Beginner" %>
    </div>
  </div>

  <div><%= f.submit "Sign up", class: "btn btn-default" %></div>
<% end %>

<%= render "devise/shared/links" %>

<!-- to control the skill level widget -->
<script>
  $(document).ready(function() {
    $(".skill-level-select").click(function(e) {
      $(".skill-level-select").removeClass("active");
      $(this).addClass("active");
      $("#user_skill_level").val($(this).data("tier"));
    });
  });
</script>
